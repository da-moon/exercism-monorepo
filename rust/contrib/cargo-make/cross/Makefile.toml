#  ╭──────────────────────────────────────────────────────────╮
#  │                    Cross-Compilation                     │
#  ╰──────────────────────────────────────────────────────────╯

[tasks.build_static]
description = "Build static binaries using musl (recommended for Linux)"
category = "Build"
env = { "TARGETS" = "x86_64-unknown-linux-musl", "RELEASE" = "1" }
dependencies = ["build_targets"]

[tasks.build_linux]
description = "Build for common Linux targets (gnu + musl)"
category = "Build"
env = { "TARGETS" = "x86_64-unknown-linux-gnu x86_64-unknown-linux-musl" }
dependencies = ["build_targets"]

[tasks.build_musl]
description = "Build for musl target only"
category = "Build"
env = { "TARGETS" = "x86_64-unknown-linux-musl" }
dependencies = ["build_targets"]

[tasks.build_windows]
description = "Build for Windows target"
category = "Build"
env = { "TARGETS" = "x86_64-pc-windows-gnu" }
dependencies = ["build_targets"]

[tasks.build_mac]
description = "Build for macOS targets"
category = "Build"
env = { "TARGETS" = "x86_64-apple-darwin aarch64-apple-darwin" }
dependencies = ["build_targets"]

[tasks.build_cross_all]
description = "Build for a broad cross-platform set of targets"
category = "Build"
env = { "TARGETS" = "x86_64-unknown-linux-gnu x86_64-unknown-linux-musl x86_64-pc-windows-gnu x86_64-apple-darwin aarch64-apple-darwin" }
dependencies = ["build_targets"]
